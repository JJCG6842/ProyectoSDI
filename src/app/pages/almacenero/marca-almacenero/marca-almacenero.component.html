<div class="header-row">
  <h1>Marcas</h1>
  <button class="add" (click)="addMarca()">
    <mat-icon fontIcon="add" class="icon-btn"></mat-icon>
    Agregar Marca
  </button>
</div>

<div class="content1">
  <p class="enter">Ingrese marca:</p>
  <input type="text" placeholder="Buscar marca..." [(ngModel)]="searchTerm" (ngModelChange)="onSearchTermChange($event)">

  <div class="botons-column">
    <div class="botons">
      <button class="boton1" (click)="search()">
        <mat-icon fontIcon="search" class="icon-btn"></mat-icon>
        Buscar
      </button>

      <button class="boton1" (click)="page1()">
        Categorias
      </button>
    </div>

    <div class="filter-section">
      <mat-form-field appearance="fill">
        <mat-label>Filtrar por categoría</mat-label>
        <mat-select [(value)]="selectCategoryId" (selectionChange)="filtrarPorCategoria()">
          <mat-option value="">Todas</mat-option>
          <mat-option *ngFor="let cat of categorias" [value]="cat.id">
            {{ cat.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div> 


  </div>
</div>

<div class="table">
  <table>
    <thead>
      <tr>   
        <th>Nro °</th>
        <th>Nombre de marca</th>
        <th>Descripcion de la marca</th>
        <th>Categoria</th>
        <th>Fecha de creación</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let marca of marcaFiltrada; let i = index">   
        <th>{{i + 1}}</th>
        <th>{{marca.name}}</th>
        <th>{{marca.description}}</th>
        <th>{{marca.category.name}}</th>
        <th>{{marca.createAt | date:'dd-MM-yyyy'}}</th>
        <th>
          <button class="edit" (click)="editMarca(marca)">
            <mat-icon aria-hidden="false" fontIcon="edit"></mat-icon>
          </button>
          <button class="delete" (click)="deleteMarca(marca.id!)">
            <mat-icon aria-hidden="false" fontIcon="delete"></mat-icon>
          </button>
        </th>
      </tr>
    </tbody>
  </table>
</div>

<br><br><br><br><br>