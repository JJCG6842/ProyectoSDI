<div class="header-row">
    <h1>Control de inventario:</h1>
    <div class="botons">
        <button class="entrance" (click)="entradas()">
            Ver entradas
        </button> 
        <button class="salida" (click)="salidas()">
            Ver salidas
        </button>
    </div>
</div>


<div class="content1">
  <p class="enter">Ingrese Producto:</p>
<input type="text" placeholder="Buscar producto..." [(ngModel)]="searchTerm" (ngModelChange)="onSearchTermChange($event)">

<div class="c2">
  <div class="botons">
    <button class="boton1" (click)="search()">
      <mat-icon fontIcon="search" class="icon-btn"></mat-icon>
      Buscar
    </button>

    <div class="miniselect">

<div class="filter-section">
  <mat-form-field appearance="fill">
    <mat-label>Filtrar por categor√≠a</mat-label>
    <mat-select [(value)]="selectCategoryId" (selectionChange)="filtrarPorCategoria()">
      <mat-option value="">Todas</mat-option>
      <mat-option *ngFor="let cat of categorias" [value]="cat.id">
        {{ cat.name }}
      </mat-option>
    </mat-select>
  </mat-form-field>
</div>

<div class="filter-section">
  <mat-form-field appearance="fill">
    <mat-label>Filtrar por marca</mat-label>
    <mat-select [(value)]="selectMarcaId" (selectionChange)="filtrarPorMarca()">
      <mat-option value="">Todas</mat-option>
      <mat-option *ngFor="let marca of marcas" [value]="marca.id">
        {{ marca.name }}
      </mat-option>
    </mat-select>
  </mat-form-field>
</div>



</div>


  </div>
</div>

</div> 



<div class="table">
     <table>
         <thead>
           <tr>   
             <th>Nombre del producto</th>
             <th>Imagen</th>
             <th>Marca</th>
             <th>Estado</th>
             <th>Stock actual</th>
             <th>Precio</th>
             <th>Monto total</th>
             <th>Acciones</th>
           </tr>
         </thead>
         <tbody>
          <tr *ngFor="let producto of productos">
            <th>{{producto.name}}</th>   
             <th><img [src]="producto.image" alt="Imagen" width="50"></th>
             <th>{{producto.marca?.name}}</th>
             <th>{{producto.status}}</th>
             <th>{{producto.quantity}}</th>
             <th>S/.{{producto.price | number: '1.2-2'}}</th>
             <th>S/.{{ producto.price * producto.quantity | number: '1.2-2' }}</th>
             <th>
               <button class="view" ><mat-icon aria-hidden="false" fontIcon="visibility"></mat-icon></button>
             </th>
           </tr>
         </tbody>
      </table>